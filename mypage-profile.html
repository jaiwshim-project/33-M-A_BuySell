<!DOCTYPE html>
<html lang="ko">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>회원 정보 - M&A 플랫폼</title><link rel="stylesheet" href="css/style.css"><script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script></head>
<body>
<nav class="top-nav"><a href="index.html" class="logo">M&A<span>플랫폼</span></a><button class="nav-toggle">☰</button><ul class="nav-menu"><li><a href="index.html">홈</a></li><li><a href="#">매물 등록</a><ul class="sub-menu"><li><a href="register-hospital.html">병원 매각 등록</a></li><li><a href="register-business.html">기업 매각 등록</a></li><li><a href="register-transfer.html">양도 등록</a></li></ul></li><li><a href="#">매물 검색</a><ul class="sub-menu"><li><a href="search-hospital.html">병원 매물</a></li><li><a href="search-business.html">기업 매물</a></li><li><a href="search-transfer.html">양도·양수 매물</a></li></ul></li><li><a href="#">M&amp;A 중개</a><ul class="sub-menu"><li><a href="ma-sell.html">매각 의뢰</a></li><li><a href="ma-buy.html">매수 의뢰</a></li><li><a href="ma-valuation.html">기업 가치평가</a></li><li><a href="ma-duediligence.html">실사 지원</a></li><li><a href="ma-status.html">거래 진행 현황</a></li></ul></li><li><a href="expert-matching.html">전문가 매칭</a></li><li><a href="consulting-proposal.html">컨설팅 제안</a></li><li><a href="#">정보센터</a><ul class="sub-menu"><li><a href="info-guide.html">M&amp;A 가이드</a></li><li><a href="info-legal.html">법률·세무 정보</a></li><li><a href="info-market.html">시장 동향</a></li><li><a href="info-cases.html">성공 사례</a></li></ul></li><li><a href="#">마이페이지</a><ul class="sub-menu"><li><a href="mypage-listings.html">내 매물 관리</a></li><li><a href="mypage-favorites.html">관심 매물</a></li><li><a href="mypage-deals.html">거래 진행</a></li><li><a href="mypage-inquiries.html">받은 제안/문의</a></li><li><a href="mypage-contracts.html">계약 관리</a></li><li><a href="mypage-payments.html">결제 내역</a></li><li><a href="mypage-profile.html" class="active">회원 정보</a></li></ul></li><li><a href="#">고객지원</a><ul class="sub-menu"><li><a href="support-inquiry.html">1:1 문의</a></li><li><a href="support-faq.html">FAQ</a></li><li><a href="support-guide.html">이용 가이드</a></li><li><a href="support-partner.html">제휴 문의</a></li></ul></li></ul><div class="nav-right"><a href="login.html" class="btn btn-outline btn-sm">로그인</a> <a href="signup.html" class="btn btn-primary btn-sm">회원가입</a></div></nav>
<div class="page-wrap">
<section class="hero" style="background:linear-gradient(135deg,#1e40af 0%,#0891b2 100%);padding:32px 48px;margin-bottom:24px"><h1 style="font-size:1.6rem">마이페이지</h1><p style="margin-bottom:0">내 계정과 거래 현황을 한눈에 관리하세요.</p></section>
<div class="page-flex">
  <aside class="page-sidebar"><nav class="sidebar-menu"><a href="mypage-listings.html"><i data-lucide="clipboard-list"></i> 내 매물 관리</a><a href="mypage-favorites.html"><i data-lucide="heart"></i> 관심 매물</a><a href="mypage-deals.html"><i data-lucide="handshake"></i> 거래 진행</a><a href="mypage-inquiries.html"><i data-lucide="message-circle"></i> 받은 제안/문의</a><a href="mypage-contracts.html"><i data-lucide="file-text"></i> 계약 관리</a><a href="mypage-payments.html"><i data-lucide="credit-card"></i> 결제 내역</a><a href="mypage-profile.html" class="active"><i data-lucide="user"></i> 회원 정보</a></nav></aside>
  <div class="page-content">
    <h1 class="section-title mb-3">회원 정보 수정</h1>
    <form id="profileForm">
      <div class="form-card"><h2>기본 정보</h2>
        <div class="form-row"><div class="form-group"><label>이름</label><input type="text" id="profileName" class="form-control" value="홍길동"></div><div class="form-group"><label>이메일</label><input type="email" id="profileEmail" class="form-control" value="hong@example.com" disabled></div></div>
        <div class="form-row"><div class="form-group"><label>전화번호</label><input type="tel" id="profilePhone" class="form-control" value="010-1234-5678"></div><div class="form-group"><label>회원유형</label><select id="profileUserType" class="form-control"><option>개인</option><option selected>병원/의료기관</option><option>기업</option><option>전문가</option></select></div></div>
      </div>
      <div class="form-card"><h2>사업자 정보</h2>
        <div class="form-row"><div class="form-group"><label>사업자명</label><input type="text" class="form-control" value="강남메디컬"></div><div class="form-group"><label>사업자등록번호</label><input type="text" class="form-control" value="123-45-67890"></div></div>
        <div class="form-row"><div class="form-group"><label>대표자명</label><input type="text" class="form-control" value="홍길동"></div><div class="form-group"><label>업종</label><input type="text" class="form-control" value="의료업"></div></div>
        <div class="form-group"><label>사업장 주소</label><input type="text" class="form-control" value="서울 강남구 역삼동 123-45"></div>
      </div>
      <div class="form-card"><h2>비밀번호 변경</h2>
        <div class="form-group"><label>현재 비밀번호</label><input type="password" class="form-control" placeholder="현재 비밀번호 입력"></div>
        <div class="form-row"><div class="form-group"><label>새 비밀번호</label><input type="password" class="form-control" placeholder="새 비밀번호"></div><div class="form-group"><label>비밀번호 확인</label><input type="password" class="form-control" placeholder="비밀번호 확인"></div></div>
      </div>
      <div class="form-card"><h2>알림 설정</h2>
        <div class="checkbox-group">
          <label><input type="checkbox" checked> 이메일 알림</label>
          <label><input type="checkbox" checked> SMS 알림</label>
          <label><input type="checkbox" checked> 관심 매물 알림</label>
          <label><input type="checkbox"> 마케팅 수신 동의</label>
        </div>
      </div>
      <div class="form-actions form-actions-between"><button type="button" class="btn btn-outline btn-danger">회원탈퇴</button><button type="submit" class="btn btn-primary">저장</button></div>
    </form>
  </div>
</div></div>
<footer class="site-footer"><div class="footer-inner"><div><h4>M&A 플랫폼</h4><p class="footer-desc">병원·기업 전문 M&A 중개 플랫폼<br>안전하고 신뢰할 수 있는 거래를 제공합니다.</p></div><div><h4>매물</h4><a href="search-hospital.html">병원 매물</a><a href="search-business.html">기업 매물</a><a href="search-transfer.html">양도·양수</a></div><div><h4>서비스</h4><a href="ma-sell.html">매각 의뢰</a><a href="ma-buy.html">매수 의뢰</a><a href="expert-matching.html">전문가 매칭</a></div><div><h4>고객지원</h4><a href="support-faq.html">FAQ</a><a href="support-inquiry.html">1:1 문의</a><a href="support-partner.html">제휴 문의</a></div></div><div class="footer-bottom">© 2025 M&A플랫폼. All rights reserved.</div></footer>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase-config.js"></script>
<script src="js/common.js"></script>
<script src="js/ai-talk.js"></script>
<script>
lucide.createIcons();
async function loadProfile() {
  try {
    const profile = await sbGetProfile();
    if (!profile) { location.href = 'login.html'; return; }
    document.getElementById('profileName').value = profile.name || '';
    document.getElementById('profileEmail').value = profile.email || '';
    document.getElementById('profilePhone').value = profile.phone || '';
    const sel = document.getElementById('profileUserType');
    for (let opt of sel.options) { if (opt.text === profile.user_type) opt.selected = true; }
  } catch(e) {}
}
document.getElementById('profileForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  try {
    const user = await sbGetUser();
    await supabase.from('profiles').update({
      name: document.getElementById('profileName').value,
      phone: document.getElementById('profilePhone').value,
      user_type: document.getElementById('profileUserType').value
    }).eq('id', user.id);
    showToast('회원 정보가 저장되었습니다.');
  } catch(err) { showToast('저장 실패: ' + err.message); }
});
loadProfile();
</script>
</body>
</html>
